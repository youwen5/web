/*!
    Modified from GitHub’s Dark Dimmed theme, licensed under the MIT License

    Copyright (c) 2018 GitHub Inc.

    https://github.com/primer/primitives/blob/main/LICENSE

    Adapted to Rosé Pine Dawn theme, generated by Gemini 2.5 Pro.
*/
main {
  --bg-color-val: 254 254 254;
  --foreground-color-val: 87 82 121;
  --surface-color-val: 245 245 245;
  --overlay-color-val: 242 242 242;
  --muted-color-val: 152 147 165;
  --subtle-color-val: 121 117 147;
  --love-color-val: 180 99 122;
  --rose-color-val: 215 130 126;
  --pine-color-val: 40 105 131;
  --foam-color-val: 86 148 159;
  --iris-color-val: 144 122 169;
  --gold-color-val: 234 157 52;

  /*! Dark mode */
  @media (prefers-color-scheme: dark) {
    --bg-color-val: 25 23 36;
    --foreground-color-val: 224 222 244;
    --surface-color-val: 31 29 46;
    --overlay-color-val: 38 35 58;
    --muted-color-val: 110 106 134;
    --subtle-color-val: 144 140 170;
    --love-color-val: 235 111 146;
    --rose-color-val: 235 188 186;
    --pine-color-val: 49 116 143;
    --foam-color-val: 156 207 216;
    --iris-color-val: 196 167 231;
    --gold-color-val: 246 193 119;
  }

  --rp-base: rgb(var(--bg-color-val));
  --rp-text: rgb(var(--foreground-color-val));
  --rp-surface: rgb(var(--surface-color-val));
  --rp-overlay: rgb(var(--overlay-color-val));
  --rp-muted: rgb(var(--muted-color-val));
  --rp-subtle: rgb(var(--subtle-color-val));
  --rp-love: rgb(var(--love-color-val));
  --rp-rose: rgb(var(--rose-color-val));
  --rp-pine: rgb(var(--pine-color-val));
  --rp-foam: rgb(var(--foam-color-val));
  --rp-iris: rgb(var(--iris-color-val));
  --rp-gold: rgb(var(--gold-color-val));

  --rp-highlight-low: rgb(var(--surface-color-val));
  --rp-highlight-med: rgb(var(--overlay-color-val));
  --rp-highlight-high: rgb(var(--muted-color-val));

  --color-prettylights-syntax-comment: var(--rp-muted); /* Muted */
  --color-prettylights-syntax-constant: var(--rp-pine); /* Pine */
  --color-prettylights-syntax-entity: var(--rp-iris); /* Iris */
  --color-prettylights-syntax-storage-modifier-import: var(--rp-iris); /* Iris */
  --color-prettylights-syntax-entity-tag: var(--rp-foam); /* Foam */
  --color-prettylights-syntax-keyword: var(--rp-love); /* Love */
  --color-prettylights-syntax-string: var(--rp-gold); /* Gold */
  --color-prettylights-syntax-variable: var(--rp-rose); /* Rose */
  --color-prettylights-syntax-brackethighlighter-unmatched: var(--rp-love); /* Love */
  --color-prettylights-syntax-invalid-illegal-text: var(--rp-love); /* Love */
  --color-prettylights-syntax-invalid-illegal-bg: rgb(
    var(--rose-color-val) /
    20%
  ); /* Rose with alpha */
  --color-prettylights-syntax-carriage-return-text: var(--rp-text); /* Text */
  --color-prettylights-syntax-carriage-return-bg: var(--rp-highlight-low); /* Highlight Low */
  --color-prettylights-syntax-string-regexp: var(--rp-foam); /* Foam */
  --color-prettylights-syntax-markup-list: var(--rp-subtle); /* Subtle */
  --color-prettylights-syntax-markup-heading: var(--rp-pine); /* Pine */
  --color-prettylights-syntax-markup-italic: var(--rp-text); /* Text (style with font-style: italic) */
  --color-prettylights-syntax-markup-bold: var(--rp-text); /* Text (style with font-weight: bold) */
  --color-prettylights-syntax-markup-deleted-text: var(--rp-love); /* Love */
  --color-prettylights-syntax-markup-deleted-bg: rgb(
    var(--rose-color-val) /
    15%
  ); /* Rose with low alpha */
  --color-prettylights-syntax-markup-inserted-text: var(--rp-foam); /* Foam */
  --color-prettylights-syntax-markup-inserted-bg: rgb(
    var(--foam-color-val) /
    15%
  ); /* Foam with low alpha */
  --color-prettylights-syntax-markup-changed-text: var(--rp-gold); /* Gold */
  --color-prettylights-syntax-markup-changed-bg: rgb(
    var(--gold-color-val) /
    15%
  ); /* Gold with low alpha */
  --color-prettylights-syntax-markup-ignored-text: var(--rp-muted); /* Muted */
  --color-prettylights-syntax-markup-ignored-bg: var(--rp-highlight-med); /* Highlight Med */
  --color-prettylights-syntax-meta-diff-range: var(--rp-iris); /* Iris */
  --color-prettylights-syntax-brackethighlighter-angle: var(--rp-subtle); /* Subtle */
  --color-prettylights-syntax-sublimelinter-gutter-mark: var(--rp-subtle); /* Subtle */
  --color-prettylights-syntax-constant-other-reference-link: var(--rp-pine); /* Pine */

  /* UI Elements */
  --color-btn-text: var(--rp-text); /* Text */
  --color-btn-bg: var(--rp-overlay); /* Overlay */
  --color-btn-border: var(--rp-highlight-med); /* Highlight Med */
  --color-btn-shadow: 0 0 transparent;
  --color-btn-inset-shadow: 0 0 transparent;
  --color-btn-hover-bg: var(--rp-highlight-med); /* Highlight Med */
  --color-btn-hover-border: var(--rp-highlight-high); /* Highlight High */
  --color-btn-active-bg: var(--rp-highlight-high); /* Highlight High */
  --color-btn-active-border: var(--rp-muted); /* Muted */
  --color-btn-selected-bg: var(--rp-highlight-med); /* Highlight Med */

  --color-btn-primary-text: var(--rp-surface); /* Surface (User's Surface is light, so it makes sense for text on a dark button) */
  --color-btn-primary-bg: var(--rp-love); /* Love */
  --color-btn-primary-border: var(--rp-love); /* Love */
  --color-btn-primary-shadow: 0 0 transparent;
  --color-btn-primary-inset-shadow: 0 0 transparent;
  --color-btn-primary-hover-bg: var(--rp-rose); /* Rose */
  --color-btn-primary-hover-border: var(--rp-rose); /* Rose */
  --color-btn-primary-selected-bg: var(--rp-love); /* Love */
  --color-btn-primary-selected-shadow: 0 0 transparent;
  --color-btn-primary-disabled-text: rgb(var(--foreground-color-val) / 50%); /* Text with alpha */
  --color-btn-primary-disabled-bg: rgb(var(--love-color-val) / 60%); /* Love with alpha */
  --color-btn-primary-disabled-border: rgb(var(--love-color-val) / 30%); /* Love with alpha */

  --color-action-list-item-default-hover-bg: var(--rp-highlight-low); /* Highlight Low */
  --color-segmented-control-bg: var(--rp-highlight-low); /* Highlight Low */
  --color-segmented-control-button-bg: var(--rp-surface); /* Surface */
  --color-segmented-control-button-selected-border: var(--rp-muted); /* Muted */

  /* General Foreground/Background */
  --color-fg-default: var(--rp-text); /* Text */
  --color-fg-muted: var(--rp-subtle); /* Subtle */
  --color-fg-subtle: var(--rp-muted); /* Muted */
  --color-canvas-default: var(--rp-base); /* Base */
  --color-canvas-overlay: var(--rp-overlay); /* Overlay */
  --color-canvas-inset: var(--rp-highlight-low); /* Highlight Low */
  --color-canvas-subtle: var(--rp-highlight-med); /* Highlight Med */
  --color-border-default: var(--rp-highlight-med); /* Highlight Med */
  --color-border-muted: var(--rp-highlight-high); /* Highlight High */
  --color-neutral-muted: rgb(var(--muted-color-val) / 40%); /* Muted with alpha */

  /* Accent Colors */
  --color-accent-fg: var(--rp-pine); /* Pine */
  --color-accent-emphasis: var(--rp-pine); /* Pine */
  --color-accent-muted: rgb(var(--foam-color-val) / 40%); /* Foam with alpha */
  --color-accent-subtle: rgb(var(--foam-color-val) / 20%); /* Foam with lower alpha */

  /* Semantic Colors */
  --color-success-fg: var(--rp-foam); /* Foam */
  --color-attention-fg: var(--rp-gold); /* Gold */
  --color-attention-muted: rgb(var(--gold-color-val) / 40%); /* Gold with alpha */
  --color-attention-subtle: rgb(var(--gold-color-val) / 15%); /* Gold with alpha */
  --color-danger-fg: var(--rp-love); /* Love */
  --color-danger-muted: rgb(var(--love-color-val) / 40%); /* Love with alpha */
  --color-danger-subtle: rgb(var(--rose-color-val) / 20%); /* Rose with alpha */

  --color-primer-shadow-inset: 0 0 transparent;

  /* Scale Colors (mapped to closest available user colors) */
  /* Original gray-7 was #9893a5 (Muted) */
  --color-scale-gray-7: var(--rp-muted); /* Muted */
  /* Original blue-8 was #286983 (Pine) */
  --color-scale-blue-8: var(--rp-pine); /* Pine */

  /*! Extensions from @primer/css/alerts/flash.scss */
  --color-social-reaction-bg-hover: var(--color-scale-gray-7); /* Muted */
  --color-social-reaction-bg-reacted-hover: var(--color-scale-blue-8); /* Pine */
}

main .pagination-loader-container {
  background-image: url("https://github.com/images/modules/pulls/progressive-disclosure-line.svg");
}

/*! Custom CSS */

.gsc-reactions-count {
  display: none;
}

.gsc-timeline {
  flex-direction: column-reverse;
}

.gsc-header {
  padding-bottom: 1rem;
}

.gsc-comments > .gsc-header {
  order: 1;
}

.gsc-comments > .gsc-comment-box {
  order: 2;
  margin-bottom: 1rem;
}

.gsc-comments > .gsc-timeline {
  order: 3;
}

.gsc-homepage-bg {
  background-color: #fefefe; /* Base */
}

main .gsc-loading-image {
  background-image: url("https://github.githubassets.com/images/mona-loading.gif");
}

/*! Dark mode */
@media (prefers-color-scheme: dark) {
  main .pagination-loader-container {
    background-image: url("https://github.com/images/modules/pulls/progressive-disclosure-line-dark.svg");
  }

  main .gsc-loading-image {
    background-image: url("https://github.githubassets.com/images/mona-loading-dark.gif");
  }
  .gsc-homepage-bg {
    background-color: #191724; /* Base */
  }
}
